"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[21],{200:(e,n,t)=>{t.d(n,{A:()=>r});const r=e=>{const n=new Date(e),t=new Date-n,r=Math.floor(t/1e3),i=Math.floor(r/60),o=Math.floor(i/60),a=Math.floor(o/24);if(r<60)return"Just now";if(i<60)return"".concat(i," minute").concat(1===i?"":"s"," ago");if(o<24)return"".concat(o," hour").concat(1===o?"":"s"," ago");if(1===a)return"Yesterday";if(a<7)return"".concat(a," day").concat(1===a?"":"s"," ago");{const e={hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:"numeric"};return n.toLocaleDateString("en-US",e)}}},8024:(e,n,t)=>{t.d(n,{A:()=>q});var r=t(8028),i=t(1221),o=t(5522),a=t(3952),s=t(7426),l=t(8360),c=t(9627),d=t(1377),u=t(1273),h=t(532),p=t(7918),g=t(1847),x=t(5156),m=t(8842),v=t(927),f=t(5851),b=t(4929),j=t(1300),y=t(2257),C=t(1823),k=t(3216),w=t(6818),S=t(5532),A=t(4007),_=t(3984),z=t(3224),I=t(6642),E=t(5043),N=t(6213),D=t(579);const R=()=>{const{isOpen:e,onOpen:n,onClose:t}=(0,i.j)(),[s,l]=(0,E.useState)([]),[c,u]=(0,E.useState)(!1),{user:h}=(0,w.a)(),p=(0,k.Zp)(),g=(0,E.useCallback)((async()=>{if(h)try{const e={headers:{Authorization:"Bearer ".concat(h.token)}},{data:n}=await N.A.get("/api/clubs/github/something/".concat(h._id),e);l(n)}catch(e){console.error("Error fetching club requests:",e)}}),[h]);(0,E.useEffect)((()=>{h&&g()}),[h,g]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(r.$,{backgroundColor:"white",_hover:{backgroundColor:"transparent"},onClick:n,children:[(0,D.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1709643622/icons8-group-48_asymxw.png",height:5}),s&&s.length>0&&(0,D.jsx)(a.E,{position:"absolute",bottom:"70%",right:"70%",transform:"translate(50%, 0)",bg:"red.500",borderRadius:"50%",width:"2px",height:"2px",p:1.5}),(0,D.jsx)(a.E,{})]}),(0,D.jsxs)(S.aF,{isOpen:e,onClose:t,children:[(0,D.jsx)(v.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,D.jsxs)(A.$,{children:[(0,D.jsx)(b.r,{textAlign:"center",children:"Clubs Requests"}),(0,D.jsx)(_.s,{}),(0,D.jsx)(j.c,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",maxH:"300px",children:s&&s.length>0?s.map(((e,n)=>(0,D.jsxs)(o.az,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,D.jsxs)(r.$,{justifyContent:"space-between",onClick:()=>p("/showclub/".concat(e._id)),children:[n+1,". Club Name: ",e.name]},e._id),(0,D.jsx)(r.$,{background:"#f05e56",onClick:()=>(async e=>{if(h&&e){u(!0);try{const n={headers:{Authorization:"Bearer ".concat(h.token)}},{data:t}=await N.A.get("/api/clubs/decline/request/".concat(e,"/").concat(h._id),n);l(t),u(!1)}catch(n){u(!1),console.error("Error fetching club requests/decline:",n)}}})(e._id),children:c?(0,D.jsx)(z.y,{size:"small"}):"Decline"})]},n))):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(a.E,{children:"All club requests have been replied to."})})}),(0,D.jsx)(I.j,{fontSize:"small",textDecor:"underline",children:"These requests were made by club coaches."})]})]})]})};const q=function(){const{user:e,notification:n,setNotification:t}=(0,w.a)(),{isOpen:S,onOpen:A,onClose:_}=(0,i.j)(),z=(0,k.Zp)(),I=(0,s.A)({base:"none",md:"flex"}),E=(0,s.A)({base:"hidden",md:"visible"});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(o.az,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:3,paddingBottom:2,boxShadow:"2xl",zIndex:10,top:0,position:"fixed",children:[(0,D.jsx)(a.E,{textAlign:"center",fontSize:{base:"small",md:"medium"},fontWeight:"bold",userSelect:"none",p:0,m:0,pl:3,children:"Worldsamma"}),(0,D.jsxs)(o.az,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,D.jsx)(r.$,{backgroundColor:"transparent",display:I,visibility:E,_hover:{backgroundColor:"transparent",color:"green.400"},onClick:()=>{z("/dashboard")},children:"My Programs"}),(0,D.jsx)(r.$,{variant:"ghost",onClick:A,_hover:{backgroundColor:"transparent",color:"green.400"},children:(0,D.jsx)(a.E,{display:{base:"none",md:"flex"},px:4,userSelect:"none",children:"Discover"})}),(0,D.jsx)(R,{})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)(h.W,{children:[(0,D.jsxs)(p.I,{p:1,position:"relative",children:[(0,D.jsx)(y.X,{fontSize:"2xl",p:0,m:0}),n.length>0&&(0,D.jsx)(l.E,{variant:"subtle",position:"absolute",top:"-3px",right:"-3px",backgroundColor:"red",zIndex:1,borderRadius:"50%",color:"white",children:n.length})]}),(0,D.jsxs)(g.c,{pl:2,children:[!n.length&&"No New Messages",n.map((e=>(0,D.jsx)(x.D,{onClick:()=>{t(n.filter((n=>n!==e)))},children:"New Message from ".concat(e.sender?e.sender.name:"Coach"," ADM: ").concat(e.sender?e.sender.admission:" ")},e._id)))]})]}),(0,D.jsx)(h.W,{children:(0,D.jsx)(p.I,{as:r.$,bg:"white",_hover:{backgroundColor:"transparent"},onClick:A,children:"flex"===I?(0,D.jsx)(C.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}):(0,D.jsx)(c.K,{backgroundColor:"transparent",icon:(0,D.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1706276791/icons8-menu-50_afv1fe.png",height:5})})})})]})]}),(0,D.jsxs)(m._,{placement:"left",onClose:_,isOpen:S,children:[(0,D.jsx)(v.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,D.jsxs)(f.z,{children:[(0,D.jsxs)(b.r,{borderBottomWidth:"1px",display:"flex",justifyContent:"space-between",children:["Dashboard",(0,D.jsx)(u.J,{onClick:_})]}),(0,D.jsxs)(j.c,{display:"flex",flexDir:"column",justifyContent:"space-between",width:"100%",children:[(0,D.jsxs)(o.az,{padding:3,display:"flex",justifyContent:"space-around",flexDir:"column",children:[(0,D.jsxs)(r.$,{display:"flex",justifyContent:"left",alignItems:"center",background:"white",m:1,_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>z("/profile"),children:[(0,D.jsx)(C.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}),(0,D.jsx)(a.E,{p:2,m:1,children:"Profile"})]}),(0,D.jsx)(r.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{z("/dashboard"),_()},children:"My Programs"}),(0,D.jsx)(r.$,{justifyContent:"start",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{z("/clubs"),_()},children:"Clubs"}),(0,D.jsx)(r.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},isDisabled:!(null!==e&&void 0!==e&&e.provinces),onClick:()=>{z("/province"),_()},children:"Provincial level"}),(0,D.jsx)(r.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{z("/national"),_()},children:"National level"}),(0,D.jsx)(r.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},children:"International Championship"})]}),(0,D.jsx)(r.$,{onClick:()=>{localStorage.removeItem("userInfo"),t([]),z("/")},children:"Log out"})]})]})]})]})}},9866:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var r=t(5043),i=t(3216),o=t(3748),a=t(5522),s=t(3952),l=t(3224),c=t(8700),d=t(8028),u=t(7118),h=t(6818),p=t(8024),g=t(6213),x=t(3461),m=t(4776),v=t(7921),f=t(834),b=t(579);const j=()=>{const[e,n]=(0,r.useState)([]),{user:t}=(0,h.a)(),[o,l]=(0,r.useState)(),[c,p]=(0,r.useState)(""),[j,y]=(0,r.useState)(""),[C,k]=(0,r.useState)(""),w=(0,i.Zp)(),S=(0,r.useCallback)((async()=>{if(!t)return void w("/dashboard");const e={headers:{Authorization:"Bearer ".concat(t.token)}};try{const{data:n}=await g.A.get("/api/province/my/province",e);l(n)}catch(r){console.log(r)}try{const{data:t}=await g.A.get("/api/province/get/coaches",e);n(t)}catch(r){console.log(r)}}),[t,w,n,l]);return(0,r.useEffect)((()=>{t&&S()}),[S,t]),(0,b.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),c&&C&&j&&t)try{const e={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},n={chairperson:c,secretary:C,viceChair:j},{data:r}=await g.A.post("/api/province/register",n,e);console.log(r),l(r)}catch(n){console.log(n)}},children:(0,b.jsxs)(f.T,{spacing:4,align:"stretch",width:"100%",boxShadow:"dark-lg",p:"6",rounded:"md",bg:"white",children:[" ",(0,b.jsxs)(s.E,{fontSize:"sm",fontWeight:500,bg:(0,u.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",children:["Status (*",o&&o.registered?"Registered \u2714\ufe0f":"Not registered",")"]}),(0,b.jsxs)(a.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",height:"200px",children:[(0,b.jsxs)(s.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",color:"cornflowerblue",children:["Send Requests to Coaches around ",null===t||void 0===t?void 0:t.provinces]}),0===e.length&&(0,b.jsx)(s.E,{textAlign:"center",children:"No clubs in this region yet."}),(0,b.jsxs)(a.az,{display:"flex",height:"200px",overflowY:"auto",width:"100%",boxShadow:"base",p:"6",rounded:"md",bg:"white",children:[" ",e.length>0&&e.map(((e,n)=>(0,b.jsxs)(s.E,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",fontWeight:"bold",p:1,children:[e.coach.name," ",e.coach.admission,(0,b.jsx)(d.$,{onClick:()=>(async e=>{if(console.log(e),e&&t)try{const n={headers:{Authorization:"Bearer ".concat(t.token)}},r={country:t.country,province:t.provinces},{data:i}=await g.A.get("/api/province/".concat(e),r,n);console.log(i),l(i)}catch(n){console.log(n)}})(null===e||void 0===e?void 0:e.coach._id),borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},isDisabled:null===o||void 0===o?void 0:o.requests.includes(e.coach._id),children:null!==o&&void 0!==o&&o.requests.includes(e.coach._id)?"Request Sent":"Send Request"})]},e._id)))]}),(0,b.jsxs)(x.MJ,{id:"approvals",isRequired:!0,children:[(0,b.jsx)(m.l,{children:"Required Approvals"}),null===o||void 0===o?void 0:o.approvals.length,"/20"]})]}),(0,b.jsxs)(x.MJ,{id:"chairman",children:[(0,b.jsx)(m.l,{children:"Chairperson"}),(0,b.jsx)(v.p,{type:"text",name:"chairman",value:c,onChange:e=>p(e.target.chairperson),placeholder:"Input valid adm of the party",isInvalid:!(null!==o&&void 0!==o&&o.approvals.some((e=>e.admission===c)))})]}),(0,b.jsxs)(x.MJ,{id:"secretary",isRequired:!0,children:[(0,b.jsx)(m.l,{children:"Secretary"}),(0,b.jsx)(v.p,{type:"text",name:"secretary",value:C,placeholder:"Input valid adm of the party",isInvalid:!(null!==o&&void 0!==o&&o.approvals.some((e=>e.admission===C))),onChange:e=>k(e.target.secretary)})]}),(0,b.jsxs)(x.MJ,{id:"vice-chairman",isRequired:!0,children:[(0,b.jsx)(m.l,{children:"Vice Chairperson"}),(0,b.jsx)(v.p,{type:"text",name:"viceChairman",value:j,placeholder:"Input valid adm of the party",isInvalid:!(null!==o&&void 0!==o&&o.approvals.some((e=>e.admission===j))),onChange:e=>y(e.target.viceChair)})]}),(0,b.jsxs)(x.MJ,{id:"provincial-coach",children:[(0,b.jsx)(m.l,{children:"Provincial Coach"}),(0,b.jsx)(v.p,{type:"text",name:"provincialCoach",value:null===t||void 0===t?void 0:t.admission,isDisabled:!0})]}),(0,b.jsx)(d.$,{type:"submit",colorScheme:"blue",isDisabled:(null===o||void 0===o?void 0:o.approvals.length)<20,children:"Submit"})]})})};var y=t(200),C=t(9261);const k=()=>{var e,n,t;const{user:x,province:m}=(0,h.a)(),[v,f]=(0,r.useState)(!1),[k,w]=(0,r.useState)([]),S=(0,i.Zp)(),A=(0,C.x)(null===x||void 0===x?void 0:x.country),[_,z]=(0,r.useState)(void 0),[I,E]=(0,r.useState)(!1),[N,D]=(0,r.useState)(!1),R=(0,o.d)(),q=(0,r.useCallback)((async()=>{if(!x)return void S("/dashboard");if(!x.provinces)return void S("/dashboard");f(!0);const e={headers:{Authorization:"Bearer ".concat(x.token)}};try{const{data:n}=await g.A.get("/api/clubs/".concat(x.country,"/").concat(x.provinces),e);w(n),f(!1)}catch(n){f(!1),console.error("Error fetching or creating clubs:",n)}}),[x,w,R,f]),$=(0,r.useCallback)((async()=>{E(!0);try{const e={headers:{Authorization:"Bearer ".concat(x.token)}},{data:n}=await g.A.get("/api/donate/province",e);z(n),E(!1)}catch(e){E(!1),console.log(e),R({title:"An Error Occurred!",description:"Please try again later",status:"warning",isClosable:!0,position:"bottom"})}}),[x,R,E,z]);(0,r.useEffect)((()=>{x?(q(),$()):S("/dashboard")}),[q,S,x]);return(0,b.jsxs)(a.az,{display:"flex",flexDir:"column",backgroundColor:"white",overflowY:"auto",width:"100%",children:[(0,b.jsx)(p.A,{}),(0,b.jsxs)(a.az,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",mt:20,children:[(0,b.jsxs)(s.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",p:3,children:["Country: ",null===x||void 0===x?void 0:x.country," ",A]}),(0,b.jsxs)(s.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",p:3,children:[null===x||void 0===x?void 0:x.provinces," Samma Association"]}),(0,b.jsx)(s.E,{textAlign:"center",children:v?(0,b.jsx)(l.y,{size:"sm"}):(0,b.jsxs)(s.E,{children:["Account: $",_&&_.length>0?_[0].fund:"0"]})}),(0,b.jsxs)(a.az,{height:"200px",width:{base:"97%",md:"70%"},overflowY:"scroll",m:1,boxShadow:"2xl",p:"6",rounded:"md",bg:"white",children:[v&&(0,b.jsx)(l.y,{}),!v&&0===k.length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.E,{fontWeight:"bold",children:"No clubs available in this region yet \ud83d\udeab"}),(0,b.jsx)(c.N,{href:"/clubs",textDecoration:"underline",children:"Start your own club and lead the way!"})]}),k&&k.map((e=>(0,b.jsxs)(d.$,{border:"1px solid #e803fc",m:1,onClick:()=>S("/showclub/".concat(e._id,"/",!1)),children:[e.name,(0,b.jsxs)(s.E,{fontSize:"xm",bg:(0,u.dU)("green.50","green.900"),color:"green.500",rounded:"full",children:["(*",e.registration?"Registered":"Unregistered",")"]})]},e._id)))]}),(0,b.jsxs)(a.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",boxShadow:"dark-lg",m:2,p:4,rounded:"md",bg:"white",fontStyle:"italic",children:[" ",v&&(0,b.jsx)(l.y,{}),"Officials: ",!m&&"Viable position",null!==m?(0,b.jsxs)(a.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",boxShadow:"2xl",p:"6",rounded:"md",bg:"white",fontStyle:"italic",children:[(0,b.jsxs)(s.E,{children:["Coach: ",null===m||void 0===m||null===(e=m.provincialCoach)||void 0===e?void 0:e.name," ",null===m||void 0===m||null===(n=m.provincialCoach)||void 0===n?void 0:n.otherName," ",null===m||void 0===m||null===(t=m.provincialCoach)||void 0===t?void 0:t.belt]}),(0,b.jsxs)(s.E,{children:["Chairperson: ",null===m||void 0===m?void 0:m.chairman," "]}),(0,b.jsxs)(s.E,{children:["Secretary: ",null===m||void 0===m?void 0:m.secretary," "]}),(0,b.jsxs)(s.E,{children:["viceChairperson: ",null===m||void 0===m?void 0:m.viceChairman," "]}),(0,b.jsxs)(s.E,{children:["Interim commencement: ",(0,y.A)(null===m||void 0===m?void 0:m.updatedAt)," "]})]}):(0,b.jsxs)(b.Fragment,{children:[" ",!N&&(0,b.jsx)(d.$,{bg:"purple",color:"white",_hover:{color:"black"},borderRadius:20,onClick:()=>{"Black"!==x.belt?R({title:"Your highest rank is ".concat(x.belt),description:"Head of a Provincial Association must have attained Black.",status:"info",isClosable:!0,duration:5e3}):D(!0)},children:"Claim Interim Leadership"}),N&&(0,b.jsx)(j,{})]})]})]})]})}},9360:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(5043);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}var o=["cdnSuffix","cdnUrl","countryCode","style","svg"];const a=function(e){var n=e.cdnSuffix,t=void 0===n?"svg":n,a=e.cdnUrl,s=void 0===a?"https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/":a,l=e.countryCode,c=e.style,d=e.svg,u=void 0!==d&&d,h=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,o);if("string"!==typeof l)return null;if(u){var p=""+s+l.toLowerCase()+"."+t;return(0,r.createElement)("img",Object.assign({},h,{src:p,style:i({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},c)}))}var g=l.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));return(0,r.createElement)("span",Object.assign({role:"img"},h,{style:i({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},c)}),g)}},4776:(e,n,t)=>{t.d(n,{l:()=>d});var r=t(3461),i=t(3226),o=t(3761),a=t(6254),s=t(4550),l=t(9254),c=t(579),d=(0,i.R)((function(e,n){var t;const i=(0,o.Vl)("FormLabel",e),d=(0,a.MN)(e),{className:h,children:p,requiredIndicator:g=(0,c.jsx)(u,{}),optionalIndicator:x=null,...m}=d,v=(0,r.Uc)(),f=null!=(t=null==v?void 0:v.getLabelProps(m,n))?t:{ref:n,...m};return(0,c.jsxs)(s.B.label,{...f,className:(0,l.cx)("chakra-form__label",d.className),__css:{display:"block",textAlign:"start",...i},children:[p,(null==v?void 0:v.isRequired)?g:x]})}));d.displayName="FormLabel";var u=(0,i.R)((function(e,n){const t=(0,r.Uc)(),i=(0,r.TP)();if(!(null==t?void 0:t.isRequired))return null;const o=(0,l.cx)("chakra-form__required-indicator",e.className);return(0,c.jsx)(s.B.span,{...null==t?void 0:t.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:o})}));u.displayName="RequiredIndicator"},7921:(e,n,t)=>{t.d(n,{p:()=>d});var r=t(4617),i=t(3226),o=t(3761),a=t(6254),s=t(4550),l=t(9254),c=t(579),d=(0,i.R)((function(e,n){const{htmlSize:t,...i}=e,d=(0,o.o5)("Input",i),u=(0,a.MN)(i),h=(0,r.t)(u),p=(0,l.cx)("chakra-input",e.className);return(0,c.jsx)(s.B.input,{size:t,...h,__css:d.field,ref:n,className:p})}));d.displayName="Input",d.id="Input"},8700:(e,n,t)=>{t.d(n,{N:()=>c});var r=t(3226),i=t(3761),o=t(6254),a=t(4550),s=t(9254),l=t(579),c=(0,r.R)((function(e,n){const t=(0,i.Vl)("Link",e),{className:r,isExternal:c,...d}=(0,o.MN)(e);return(0,l.jsx)(a.B.a,{target:c?"_blank":void 0,rel:c?"noopener":void 0,ref:n,className:(0,s.cx)("chakra-link",r),...d,__css:t})}));c.displayName="Link"},834:(e,n,t)=>{t.d(n,{T:()=>a});var r=t(1821),i=t(3226),o=t(579),a=(0,i.R)(((e,n)=>(0,o.jsx)(r.B,{align:"center",...e,direction:"column",ref:n})));a.displayName="VStack"}}]);
//# sourceMappingURL=21.3c3048a1.chunk.js.map