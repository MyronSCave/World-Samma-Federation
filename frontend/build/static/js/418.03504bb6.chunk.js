"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[418],{554:(e,n,t)=>{t.d(n,{A:()=>i});const o=t(6213).A.create();o.interceptors.response.use((async e=>e),(e=>Promise.reject(e)));const i=o},3747:(e,n,t)=>{t.d(n,{ZU:()=>l,bK:()=>a});var o=t(6213),i=t(5043),r=t(5749),s=t(6818);function a(e){const n=(0,i.useRef)(null),{user:t}=(0,s.a)();return(0,i.useEffect)((()=>{if(n.current)return;const o=(0,r.io)("/",{query:{token:e}});return o.on("connect",(()=>{const e=null===t||void 0===t?void 0:t.email;o.emit("newConnection",{email:e})})),o.on("disconnect",(()=>{})),n.current=o,()=>{o.disconnect(),n.current=null}}),[e,null===t||void 0===t?void 0:t.email]),n.current}async function l(e,n,t,i){if(n)try{const r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},{data:s}=await o.A.post("/api/paycheck/makepaymentmpesa/".concat(t._id,"?amount=").concat(e),{phoneNumber:n},r);s&&i({title:"You have been prompt to finish your subscription process",status:"info",duration:1e3,position:"bottom"})}catch(r){}}},200:(e,n,t)=>{t.d(n,{A:()=>o});const o=e=>{const n=new Date(e),t=new Date-n,o=Math.floor(t/1e3),i=Math.floor(o/60),r=Math.floor(i/60),s=Math.floor(r/24);if(o<60)return"Just now";if(i<60)return"".concat(i," minute").concat(1===i?"":"s"," ago");if(r<24)return"".concat(r," hour").concat(1===r?"":"s"," ago");if(1===s)return"Yesterday";if(s<7)return"".concat(s," day").concat(1===s?"":"s"," ago");{const e={hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:"numeric"};return n.toLocaleDateString("en-US",e)}}},4533:(e,n,t)=>{t.d(n,{A:()=>l});t(5043);var o=t(3748),i=t(3461),r=t(4776),s=t(7921),a=t(579);const l=e=>{let{setPicLoading:n,color:t,setPic:l}=e;const c=(0,o.d)();return(0,a.jsxs)(i.MJ,{id:"pic",children:[(0,a.jsx)(r.l,{textColor:t,children:"Upload your Picture(*Important)"}),(0,a.jsx)(s.p,{type:"file",p:1.5,textColor:t,placeholder:"Select a passport photo",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(n(!0),t)if("image/jpeg"===t.type||"image/png"===t.type){let e=new FormData;e.append("file",t),e.append("upload_preset","WorldSamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/image/upload",{method:"post",body:e}).then((e=>e.json())).then((e=>{l(e.url.toString()),n(!1)})).catch((e=>{n(!1)}))}else n(!1),c({title:"Invalid file type",status:"warning"});else n(!1)}})]})}},8024:(e,n,t)=>{t.d(n,{A:()=>F});var o=t(8028),i=t(1221),r=t(5522),s=t(3952),a=t(7426),l=t(8360),c=t(9627),d=t(1377),u=t(1273),h=t(532),p=t(7918),m=t(1847),x=t(5156),g=t(8842),f=t(927),j=t(5851),b=t(4929),v=t(1300),y=t(2257),w=t(1823),C=t(3216),k=t(6818),S=t(5532),z=t(4007),E=t(3984),A=t(3224),_=t(6642),N=t(5043),D=t(6213),R=t(579);const I=()=>{const{isOpen:e,onOpen:n,onClose:t}=(0,i.j)(),[a,l]=(0,N.useState)([]),[c,u]=(0,N.useState)(!1),{user:h}=(0,k.a)(),p=(0,C.Zp)(),m=(0,N.useCallback)((async()=>{if(h)try{const e={headers:{Authorization:"Bearer ".concat(h.token)}},{data:n}=await D.A.get("/api/clubs/github/something/".concat(h._id),e);l(n)}catch(e){console.error("Error fetching club requests:",e)}}),[h]);(0,N.useEffect)((()=>{h&&m()}),[h,m]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(o.$,{backgroundColor:"white",_hover:{backgroundColor:"transparent"},onClick:n,children:[(0,R.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1709643622/icons8-group-48_asymxw.png",height:5}),a&&a.length>0&&(0,R.jsx)(s.E,{position:"absolute",bottom:"70%",right:"70%",transform:"translate(50%, 0)",bg:"red.500",borderRadius:"50%",width:"2px",height:"2px",p:1.5}),(0,R.jsx)(s.E,{})]}),(0,R.jsxs)(S.aF,{isOpen:e,onClose:t,children:[(0,R.jsx)(f.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,R.jsxs)(z.$,{children:[(0,R.jsx)(b.r,{textAlign:"center",children:"Clubs Requests"}),(0,R.jsx)(E.s,{}),(0,R.jsx)(v.c,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",maxH:"300px",children:a&&a.length>0?a.map(((e,n)=>(0,R.jsxs)(r.az,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,R.jsxs)(o.$,{justifyContent:"space-between",onClick:()=>p("/showclub/".concat(e._id)),children:[n+1,". Club Name: ",e.name]},e._id),(0,R.jsx)(o.$,{background:"#f05e56",onClick:()=>(async e=>{if(h&&e){u(!0);try{const n={headers:{Authorization:"Bearer ".concat(h.token)}},{data:t}=await D.A.get("/api/clubs/decline/request/".concat(e,"/").concat(h._id),n);l(t),u(!1)}catch(n){u(!1),console.error("Error fetching club requests/decline:",n)}}})(e._id),children:c?(0,R.jsx)(A.y,{size:"small"}):"Decline"})]},n))):(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(s.E,{children:"All club requests have been replied to."})})}),(0,R.jsx)(_.j,{fontSize:"small",textDecor:"underline",children:"These requests were made by club coaches."})]})]})]})};const F=function(){const{user:e,notification:n,setNotification:t}=(0,k.a)(),{isOpen:S,onOpen:z,onClose:E}=(0,i.j)(),A=(0,C.Zp)(),_=(0,a.A)({base:"none",md:"flex"}),N=(0,a.A)({base:"hidden",md:"visible"});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(r.az,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:3,paddingBottom:2,boxShadow:"2xl",zIndex:10,top:0,position:"fixed",children:[(0,R.jsx)(s.E,{textAlign:"center",fontSize:{base:"small",md:"medium"},fontWeight:"bold",userSelect:"none",p:0,m:0,pl:3,children:"Worldsamma"}),(0,R.jsxs)(r.az,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,R.jsx)(o.$,{backgroundColor:"transparent",display:_,visibility:N,_hover:{backgroundColor:"transparent",color:"green.400"},onClick:()=>{A("/dashboard")},children:"My Programs"}),(0,R.jsx)(o.$,{variant:"ghost",onClick:z,_hover:{backgroundColor:"transparent",color:"green.400"},children:(0,R.jsx)(s.E,{display:{base:"none",md:"flex"},px:4,userSelect:"none",children:"Discover"})}),(0,R.jsx)(I,{})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(h.W,{children:[(0,R.jsxs)(p.I,{p:1,position:"relative",children:[(0,R.jsx)(y.X,{fontSize:"2xl",p:0,m:0}),n.length>0&&(0,R.jsx)(l.E,{variant:"subtle",position:"absolute",top:"-3px",right:"-3px",backgroundColor:"red",zIndex:1,borderRadius:"50%",color:"white",children:n.length})]}),(0,R.jsxs)(m.c,{pl:2,children:[!n.length&&"No New Messages",n.map((e=>(0,R.jsx)(x.D,{onClick:()=>{t(n.filter((n=>n!==e)))},children:"New Message from ".concat(e.sender?e.sender.name:"Coach"," ADM: ").concat(e.sender?e.sender.admission:" ")},e._id)))]})]}),(0,R.jsx)(h.W,{children:(0,R.jsx)(p.I,{as:o.$,bg:"white",_hover:{backgroundColor:"transparent"},onClick:z,children:"flex"===_?(0,R.jsx)(w.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}):(0,R.jsx)(c.K,{backgroundColor:"transparent",icon:(0,R.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1706276791/icons8-menu-50_afv1fe.png",height:5})})})})]})]}),(0,R.jsxs)(g._,{placement:"left",onClose:E,isOpen:S,children:[(0,R.jsx)(f.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,R.jsxs)(j.z,{children:[(0,R.jsxs)(b.r,{borderBottomWidth:"1px",display:"flex",justifyContent:"space-between",children:["Dashboard",(0,R.jsx)(u.J,{onClick:E})]}),(0,R.jsxs)(v.c,{display:"flex",flexDir:"column",justifyContent:"space-between",width:"100%",children:[(0,R.jsxs)(r.az,{padding:3,display:"flex",justifyContent:"space-around",flexDir:"column",children:[(0,R.jsxs)(o.$,{display:"flex",justifyContent:"left",alignItems:"center",background:"white",m:1,_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>A("/profile"),children:[(0,R.jsx)(w.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}),(0,R.jsx)(s.E,{p:2,m:1,children:"Profile"})]}),(0,R.jsx)(o.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{A("/dashboard"),E()},children:"My Programs"}),(0,R.jsx)(o.$,{justifyContent:"start",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{A("/clubs"),E()},children:"Clubs"}),(0,R.jsx)(o.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},isDisabled:!(null!==e&&void 0!==e&&e.provinces),onClick:()=>{A("/province"),E()},children:"Provincial level"}),(0,R.jsx)(o.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{A("/national"),E()},children:"National level"}),(0,R.jsx)(o.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},children:"International Championship"})]}),(0,R.jsx)(o.$,{onClick:()=>{localStorage.removeItem("userInfo"),t([]),A("/")},children:"Log out"})]})]})]})]})}},8418:(e,n,t)=>{t.r(n),t.d(n,{default:()=>J});var o=t(5043),i=t(3216),r=t(3748),s=t(5522),a=t(3952),l=t(1377),c=t(4377),d=t(8028),u=t(1821),h=t(786),p=t(7118),m=t(7921),x=t(579),g=e=>{let{size:n="2rem",...t}=e;return(0,x.jsx)(h.E,{borderRadius:"full",boxSize:n,...t})};g.displayName="SkeletonCircle";var f=t(7426),j=t(4550),b=t(9254);var v=3,y=e=>{const{noOfLines:n=v,spacing:t="0.5rem",skeletonHeight:o="0.5rem",className:i,startColor:r,endColor:s,isLoaded:a,fadeDuration:l,speed:c,variant:d,size:u,colorScheme:p,children:m,...g}=e,y=(0,f.A)("number"===typeof n?[n]:n)||v,w=Array(y).fill(1).map(((e,n)=>n+1));const C=e=>y>1&&e===w.length?"80%":"100%",k=(0,b.cx)("chakra-skeleton__group",i);return(0,x.jsx)(j.B.div,{className:k,...g,children:w.map(((e,n)=>{if(a&&n>0)return null;const i=a?null:{mb:e===w.length?"0":t,width:C(e),height:o};return(0,x.jsx)(h.E,{startColor:r,endColor:s,isLoaded:a,fadeDuration:l,speed:c,variant:d,size:u,colorScheme:p,...i,children:0===n?m:void 0},w.length.toString()+e)}))})};y.displayName="SkeletonText";var w=t(8024),C=t(554),k=t(6213),S=t(1823);const z=e=>{let{handleFunction:n,user:t}=e;return(0,x.jsxs)(s.az,{onClick:n,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},width:"100%",display:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[(0,x.jsx)(S.e,{mr:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),(0,x.jsxs)(s.az,{children:[(0,x.jsx)(a.E,{children:t.name}),(0,x.jsxs)(a.E,{fontSize:"xs",children:[(0,x.jsx)("b",{children:"Email : "}),t.email]})]})]})};var E=t(59),A=t(3461),_=t(4776),N=t(7451),D=t(3452),R=t(3974),I=t(1357),F=t(8596),M=t(9673),P=t(9261),$=t(1191),q=t(200),B=t(3747),O=t(6818),L=t(4533);const W=()=>{const[e,n]=(0,o.useState)({name:"",otherName:"",id:"",phoneNumber:"",email:"",selectedCountry:"",provinces:"",language:"",password:"",confirmpassword:"",gender:""}),[t,i]=(0,o.useState)(!1),[c,h]=(0,o.useState)(!1),[g,f]=(0,o.useState)([]),[j,b]=(0,o.useState)(null),[v,y]=(0,o.useState)(""),[w,C]=(0,o.useState)(""),[k,S]=(0,o.useState)(!1),{user:z}=(0,O.a)(),[W,J]=(0,o.useState)(!1),U=(0,r.d)(),H=(0,B.bK)(null===z||void 0===z?void 0:z.token),Y=()=>h(!c),Z=e=>{if(console.log("Event:",e),!e||!e.target)return void console.log("Event or target is undefined.");const{name:t,value:o}=e.target;if(n((e=>({...e,[t]:o}))),"selectedCountry"===t){const e=(0,P.e)(o);f(e)}},T=async t=>{t.preventDefault();try{const t={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(z.token)}},{data:o}=await axios.post("/api/user/admission",{...e,pic:w},t);b(o),n({name:"",otherName:"",id:"",phoneNumber:"",email:"",selectedCountry:"",provinces:"",language:"",password:"",confirmpassword:"",gender:""}),C(""),i(!1),f([])}catch(o){console.error(o),U({title:"Error occurred!",description:o.response.data.message||"Something went wrong.",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}},V=Object.entries($.Xr).map((e=>{let[n,t]=e;return{value:t.name,label:t.name}})),G=Object.keys($.eo).map((e=>({code:e,name:$.eo[e].name})));(0,o.useEffect)((()=>{if(!e.selectedCountry)return;(async()=>{const n=(0,P.e)(e.selectedCountry);f(n)})()}),[e.selectedCountry]),(0,o.useEffect)((()=>{if(!H)return;const e=async()=>{await T()};return H.on("manualRegister",e),()=>{H.off("manualRegister",e)}}),[H]);return(0,x.jsxs)(x.Fragment,{children:[!t&&(0,x.jsx)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:{base:"100%",md:"60%"},boxShadow:"base",p:"4",rounded:"md",bg:"white",children:(0,x.jsxs)("form",{style:{width:"100%"},children:[(0,x.jsx)(a.E,{fontSize:"sm",fontWeight:500,bg:(0,p.dU)("green.50","green.900"),px:6,p:"3",m:1,color:"green.500",rounded:"full",children:"Register Students Manually"}),j&&(0,x.jsxs)(a.E,{textAlign:"center",children:["\u26a0\ufe0fStudent Code: ",null===j||void 0===j?void 0:j.admission,", Name: ",null===j||void 0===j?void 0:j.name,", createdAt: ",(0,q.A)(null===j||void 0===j?void 0:j.createdAt)," "]}),(0,x.jsxs)(A.MJ,{id:"name",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"First Name "}),(0,x.jsx)(m.p,{type:"text",name:"name",placeholder:"Student's first name",value:e.name,onChange:Z})]}),(0,x.jsxs)(A.MJ,{id:"otherName",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"Last Name "}),(0,x.jsx)(m.p,{type:"text",name:"otherName",placeholder:"Student's last name",value:e.otherName,onChange:Z})]}),(0,x.jsxs)(A.MJ,{id:"country",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"Country"}),(0,x.jsx)(N.l,{placeholder:"Select your country",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",value:e.selectedCountry,onChange:t=>n({...e,selectedCountry:t.target.value}),children:V.map((e=>(0,x.jsx)("option",{value:e.value,style:{color:"black"},children:e.label},e.value)))})]}),e.selectedCountry&&g.length>0?(0,x.jsxs)(A.MJ,{id:"provinces",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"County/Province"}),(0,x.jsx)(N.l,{placeholder:"Select your province",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",value:e.provinces,onChange:t=>n({...e,provinces:t.target.value}),children:g&&g.map((e=>(0,x.jsx)("option",{value:e.value,style:{color:"black"},children:e.name},e.value)))})]}):(0,x.jsxs)(A.MJ,{id:"province",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"County/Province/state"}),(0,x.jsx)(m.p,{type:"text",placeholder:"Province",value:e.provinces,onChange:t=>n({...e,provinces:t.target.value})})]}),(0,x.jsxs)(A.MJ,{id:"language",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"Language"}),(0,x.jsx)(N.l,{placeholder:"Select language",textColor:"grey",value:e.language,onChange:t=>n({...e,language:t.target.value}),children:G.map((e=>(0,x.jsx)("option",{value:e.code,children:e.name},e.code)))})]}),(0,x.jsxs)(A.MJ,{id:"id",children:[(0,x.jsx)(_.l,{children:"ID"}),(0,x.jsx)(m.p,{type:"text",name:"id",placeholder:"Student's ID (optional)",value:e.id,onChange:Z})]}),(0,x.jsxs)(A.MJ,{id:"phoneNumber",children:[(0,x.jsx)(_.l,{children:"Phone Number"}),(0,x.jsx)(m.p,{type:"number",name:"phoneNumber",placeholder:"Student's phone number (optional)",value:e.phoneNumber,onChange:Z})]}),(0,x.jsxs)(A.MJ,{id:"email",children:[(0,x.jsx)(_.l,{children:"Email"}),(0,x.jsx)(m.p,{type:"email",name:"email",placeholder:"Student's email address (optional)",value:e.email,onChange:Z})]}),(0,x.jsxs)(A.MJ,{id:"password",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"Password"}),(0,x.jsxs)(D.M,{size:"md",children:[(0,x.jsx)(m.p,{type:c?"text":"password",placeholder:"Enter Password",value:e.password,onChange:t=>n({...e,password:t.target.value})}),(0,x.jsx)(R.t,{width:"4.5rem",children:(0,x.jsx)(d.$,{h:"1.75rem",size:"sm",onClick:Y,children:c?"Hide":"Show"})})]})]}),(0,x.jsxs)(A.MJ,{id:"confirmPassword",isRequired:!0,children:[(0,x.jsx)(_.l,{children:"Confirm Password"}),(0,x.jsxs)(D.M,{size:"md",children:[(0,x.jsx)(m.p,{type:c?"text":"password",placeholder:"Confirm password",value:e.confirmpassword,onChange:t=>n({...e,confirmpassword:t.target.value})}),(0,x.jsx)(R.t,{width:"4.5rem",children:(0,x.jsx)(d.$,{h:"1.75rem",size:"sm",onClick:Y,children:c?"Hide":"Show"})})]})]}),(0,x.jsx)(I.z,{value:e.gender,onChange:t=>n({...e,gender:t}),isRequired:!0,children:(0,x.jsxs)(u.B,{direction:"row",children:[(0,x.jsx)(F.s,{value:"male",children:"Male"}),(0,x.jsx)(F.s,{value:"female",children:"Female"})]})}),(0,x.jsx)(L.A,{setPic:C,setPicLoading:J,color:"black"}),(0,x.jsx)(d.$,{onClick:()=>(()=>{const{name:n,otherName:t,selectedCountry:o,provinces:r,language:s,id:a,phoneNumber:l,email:c,password:d,confirmpassword:u,gender:h}=e;console.log(w),n&&t&&o&&r&&s&&d&&u&&h&&w?d===u?i(!0):U({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}):U({title:"Please fill all the required fields.",status:"warning"})})(),mt:4,colorScheme:"teal",isDisabled:!e.name||!e.otherName||W,isLoading:W,children:"Submit"})]})}),t&&(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:"100%",boxShadow:"base",p:"6",rounded:"md",bg:"white",children:[" ",(0,x.jsx)(E.ag,{options:{clientId:"AZ5Pdn0aioG6OzW6n4Q7W64LxkdOhS0wEIOAn_UmF5askK41E72ejdrsHPJoFIcg0atbN-WZG14fd6oc"},children:(0,x.jsx)(E.JV,{createOrder:(e,n)=>n.order.create({purchase_units:[{amount:{currency_code:"USD",value:4..toFixed(2)}}]}),onApprove:async(e,n)=>(await T(),n.order.capture().then((function(e){i(!1),U({title:"Success",status:"success",duration:3e3,isClosable:!0,position:"bottom"})}))),onCancel:()=>{i(!1),U({title:"Cancelled",status:"info",isClosable:!0,position:"bottom"})}})}),(0,x.jsxs)(d.$,{fontSize:"small",width:{base:"80%",md:"25%"},backgroundColor:"green.400",color:"white",onClick:()=>{h(!0)},p:0,children:[(0,x.jsx)(l._,{height:5,width:"auto",src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1694007922/mpesa_ppfs6p.png",alt:"",loading:"lazy"})," ","Pay via Mpesa"]}),c&&(0,x.jsxs)(s.az,{m:3,width:{base:"80%",md:"50%"},children:[(0,x.jsx)(m.p,{fontSize:"small",color:"green.400",fontWeight:"bold",placeholder:"Enter Your Mpesa Phone Number",textAlign:"center",type:"text",onChange:e=>y(e.target.value),value:v,minLength:10,maxLength:10}),(0,x.jsx)(M.c,{p:2}),(0,x.jsx)(d.$,{width:"100%",onClick:()=>{(0,B.ZU)("500",v,z,U),h(!1),U({title:"Wait as message is sent",status:"loading",isClosable:!0,position:"bottom",duration:5e3})},isDisabled:v.length!==parseInt(10),colorScheme:"green",children:"Proceed"}),(0,x.jsx)(a.E,{textAlign:"center",justifyContent:"center",children:"You'll be sent a Message"})]})]})]})},J=e=>{var n,t;let{user:f}=e;const j=(0,i.Zp)(),[b,v]=(0,o.useState)(),S=(0,r.d)(),[A,_]=(0,o.useState)(!1),[N,D]=(0,o.useState)(""),[R,I]=(0,o.useState)(!1),[F,M]=(0,o.useState)([]),[P,$]=(0,o.useState)(null),[q,B]=(0,o.useState)(!1),[O,L]=(0,o.useState)(!1),J=(0,o.useCallback)((async()=>{if(f.coach){I(!0);try{const e=f.coach,n={headers:{Authorization:"Bearer ".concat(f.token)}};C.A.get("/api/clubs/".concat(e),n).then((async e=>{v(e.data),I(!1)})).catch((e=>{I(!1),e.response&&401===e.response.status&&(S({title:"Your session has expired",description:"Logging out in less than 8 seconds",duration:8e3,status:"loading",position:"bottom"}),setTimeout((()=>{localStorage.removeItem("userInfo"),j("/")}),8e3))}))}catch(e){console.error("Error fetching Club:",e),I(!1)}}}),[null===f||void 0===f?void 0:f.token,v,I]);(0,o.useEffect)((()=>{f?J():j("/dashboard")}),[f,j]);const U=async(e,n)=>{try{const t={headers:{Authorization:"Bearer ".concat(f.token)}},{data:o}=await k.A.get("/api/province/accept/decline/".concat(e,"?accept=").concat(n),t);setUser((e=>({...e,provinceRequests:o.provinceRequests})))}catch(t){console.log(t),S({title:"Error Occurred!",description:"Try again after sometime.",status:"error"})}},H=async(e,n)=>{if(f)try{const t={headers:{Authorization:"Bearer ".concat(f.token)}},{data:o}=await k.A.get("/api/national/accept/decline/".concat(e,"?accept=").concat(n),t);setUser((e=>({...e,nationalRequests:o.nationalRequests})))}catch(t){console.log(t),S({title:"Error Occurred!",description:"Try again after sometime.",status:"error"})}},Y=["Guest","Beginner","Yellow","Orange","Red","Purple","Green","Blue","Brown","Black"],Z=Y.indexOf("Black");return(0,x.jsxs)(s.az,{display:"flex",width:"100%",justifyContent:"center",flexDir:"column",overflow:"auto",alignItems:"center",background:"white",children:[(0,x.jsx)(w.A,{})," ",(0,x.jsx)(a.E,{children:"worldsamma"}),(0,x.jsxs)(s.az,{display:"flex",flexWrap:"wrap",width:{base:"100%",md:"80%"},height:"100%",boxShadow:"dark-lg",p:"6",rounded:"md",bg:"white",mt:"10",fontStyle:"italic",overflow:"auto",children:[(0,x.jsxs)(s.az,{display:"flex",textAlign:"start",boxShadow:"base",width:"100%",p:"0",rounded:"md",bg:"white",children:[" ",(0,x.jsx)(l._,{src:null===f||void 0===f?void 0:f.pic,alt:"Profile*",borderRadius:"full",boxSize:{base:"100px",md:"200px"},border:"4px solid white"}),(0,x.jsxs)(s.az,{fontSize:"md",fontFamily:"monospace",children:[" ",(0,x.jsx)(c.D,{mb:4,children:"Profile"}),(0,x.jsxs)(a.E,{display:"flex",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Name:"}),null===f||void 0===f?void 0:f.name," ",null===f||void 0===f?void 0:f.otherName]}),(0,x.jsxs)(a.E,{display:"flex",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Code:"})," ",null===f||void 0===f?void 0:f.admission]}),(0,x.jsxs)(a.E,{display:"flex",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Email:"})," ",null===f||void 0===f?void 0:f.email]}),(0,x.jsxs)(a.E,{display:"flex",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Country:"})," ",null===f||void 0===f?void 0:f.country]}),(0,x.jsxs)(a.E,{display:"flex",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Province:"})," ",null===f||void 0===f?void 0:f.provinces]}),(0,x.jsxs)(a.E,{display:"flex",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Coach:"}),null!==f&&void 0!==f&&f.coach?" \u2714\ufe0f":"Not a coach"]}),(0,x.jsxs)(a.E,{display:"flex",flexWrap:"wrap",children:[(0,x.jsx)(a.E,{fontFamily:"fantasy",px:1,children:"Highest Level Attained:"})," ",null===f||void 0===f?void 0:f.belt]}),(null===f||void 0===f?void 0:f.admin)&&(0,x.jsx)(d.$,{mt:4,colorScheme:"teal",onClick:()=>j("/admin-work-slot"),children:"Admin Work Slot"})]})]})," ",(null===f||void 0===f?void 0:f.coach)&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",width:"100%",minH:"200px",overflow:"auto",children:[R?(0,x.jsxs)(u.B,{width:"100%",children:[(0,x.jsx)(h.E,{height:"20px"}),(0,x.jsx)(h.E,{height:"20px"}),(0,x.jsx)(h.E,{height:"20px"})]}):(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:{base:"100%",md:"60%"},boxShadow:"base",mt:2,p:"4",rounded:"md",bg:"white",children:[(0,x.jsx)(c.D,{mb:2,children:"Club Details"}),(0,x.jsxs)(a.E,{fontSize:"sm",fontWeight:500,bg:(0,p.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",margin:1,width:"90%",children:["Status (*",b&&b.registered?"Registered":"Not registered",")"]}),(0,x.jsxs)(a.E,{children:["Club Name: ",null===b||void 0===b?void 0:b.name]}),(0,x.jsxs)(a.E,{children:["Club Code: ",null===b||void 0===b?void 0:b.code]}),(0,x.jsxs)(d.$,{background:"transparent",_hover:{background:"transparent",color:"green"},onClick:()=>{_(!A)},fontStyle:"italic",children:["Members: ",null===b||void 0===b?void 0:b.members.length]}),(0,x.jsxs)(a.E,{children:["Followers: ",null===b||void 0===b?void 0:b.followers.length]}),(0,x.jsxs)(a.E,{children:["Received Likes: ",null===b||void 0===b?void 0:b.likes.length]})]}),A&&(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",background:"white",overflow:"auto",boxShadow:"base",p:"6",mt:2,rounded:"md",bg:"white",width:{base:"100%",md:"60%"},children:[(0,x.jsx)(c.D,{mb:2,children:"Members List"}),b.members.length>0&&b.members.map(((e,n)=>(0,x.jsxs)(a.E,{fontSize:"small",children:[n+1,". Name: ",e.name," Adm: ",e.admission]},e._id)))]})]})}),(null===f||void 0===f?void 0:f.coach)&&(0,x.jsxs)(a.E,{textAlign:"center",width:"100%",children:[(0,x.jsx)(d.$,{background:"purple.400",onClick:()=>L(!O),children:"Register Students Manually"}),O&&"\u2193"]}),O&&(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:"100%",m:2,boxShadow:"base",p:"4",rounded:"md",background:"white",children:[" ",(0,x.jsx)(W,{})]}),(null===f||void 0===f?void 0:f.coach)&&(null===b||void 0===b?void 0:b.registered)&&Y.indexOf(null===f||void 0===f?void 0:f.belt)>=Z&&(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",overflow:"auto",width:"100%",m:2,boxShadow:"base",p:"6",rounded:"md",bg:"white",children:[" ",(0,x.jsx)(a.E,{fontSize:"sm",fontWeight:500,bg:(0,p.dU)("green.50","green.900"),px:6,p:"3",m:1,color:"green.500",rounded:"full",children:"Coach's assisted student rank upgrading"}),(0,x.jsxs)(s.az,{display:"flex",pb:2,width:{base:"100%",md:"60%"},justifyContent:"center",alignItems:"center",children:[(0,x.jsx)(m.p,{placeholder:"Search by name, email, or admission",mr:2,value:N,onChange:e=>D(e.target.value)}),(0,x.jsx)(d.$,{borderRadius:20,onClick:async()=>{if(B(!1),N)try{I(!0);const e={headers:{Authorization:"Bearer ".concat(f.token)}},{data:n}=await k.A.get("/api/user?search=".concat(N),e);I(!1),M(n)}catch(e){I(!1),S({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}else S({title:"Please enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"})},children:"\ud83d\udd0dSearch"})]}),(0,x.jsxs)(s.az,{display:"flex",flexDir:"column",overflow:"auto",width:"100%",justifyContent:"center",alignItems:"center",children:[" ",(0,x.jsxs)(s.az,{display:q?"none":"flex",flexDir:"column",width:"100%",maxH:"300px",overflow:"auto",children:[" ",R?(0,x.jsxs)(s.az,{display:q?"none":"flex",width:"100%",padding:"6",boxShadow:"lg",bg:"white",children:[(0,x.jsx)(g,{size:"10"}),(0,x.jsx)(y,{mt:"4",noOfLines:4,spacing:"4",skeletonHeight:"2"})]}):null===F||void 0===F?void 0:F.map((e=>(0,x.jsx)(z,{user:e,handleFunction:()=>{$({id:e._id,name:e.name,email:e.email,pic:e.pic}),B(!0)}},e._id)))]}),q&&(0,x.jsxs)(s.az,{children:[(0,x.jsxs)(a.E,{textAlign:"center",fontSize:"sm",fontWeight:500,bg:(0,p.dU)("green.50","green.900"),px:3,p:"3",m:1,color:"purple.500",rounded:"full",children:["Upgrading: ",P.name," ",P.email,"($5 Fee)"]})," ",(0,x.jsx)(E.ag,{options:{clientId:"AZAdYFR_SbadcgOcCLYn9ajkReJTZmOCnEeAvQ3xPYAE5BMYFBHi4vDeILfNwBO-hh-8wfyGC9lNeB1I"},children:(0,x.jsx)(E.JV,{createOrder:(e,n)=>n.order.create({purchase_units:[{amount:{currency_code:"USD",value:5..toFixed(2)}}]}),onApprove:async(e,n)=>(await(async e=>{if(!e)return S({title:"Your student info was lost or never inputted!",description:"Failed to process",status:"warning",isClosable:!0,position:"bottom"}),void B(!1);try{const n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(f.token)}};await k.A.post("/api/submit/".concat(e,"?assisted=",!0),{savePhoto:f.pic},n),$(null),B(!1)}catch(n){$(null),B(!1),S({title:"An Error Occurred!",description:"Please try again later",status:"warning",isClosable:!0,position:"bottom"})}})(P.id),n.order.capture().then((function(e){S({title:"Success",description:"Wait for WSF to send certificate to particulars.",status:"success",duration:3e3,isClosable:!0,position:"bottom"})}))),onCancel:()=>{B(!1),S({title:"Cancelled",status:"info",isClosable:!0,position:"bottom"})}})})]})]})]}),(null===f||void 0===f||null===(n=f.provinceRequests)||void 0===n?void 0:n.length)>0&&(0,x.jsxs)(s.az,{textAlign:"start",fontSize:"medium",fontWeight:"bold",background:"white",overflow:"auto",boxShadow:"base",p:"4",height:"200px",rounded:"md",bg:"white",width:"100%",children:[(0,x.jsx)(c.D,{mb:4,children:"Province Requests"}),null===f||void 0===f?void 0:f.provinceRequests.map(((e,n)=>{var t,o,i;return(0,x.jsxs)(a.E,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,x.jsxs)(a.E,{p:1,fontStyle:"italic",width:"100%",fontSize:"x-small",children:[" ",n+1,".",null===(t=e.provincialCoach)||void 0===t?void 0:t.name," Adm:",null===(o=e.provincialCoach)||void 0===o?void 0:o.admission," Approvals:"," ",null===(i=e.approvals)||void 0===i?void 0:i.length]}),(0,x.jsx)(d.$,{borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},fontSize:"x-small",onClick:()=>U(e._id,!0),children:"Approve\u2714\ufe0f"}),(0,x.jsx)(d.$,{borderRadius:20,fontSize:"x-small",color:"white",_hover:{color:"black"},background:"#A020F0",m:1,onClick:()=>U(e._id,!1),children:"Decline"})]},e._id)}))]}),(null===f||void 0===f||null===(t=f.nationalRequests)||void 0===t?void 0:t.length)>0&&(0,x.jsxs)(s.az,{textAlign:"start",fontSize:"medium",fontWeight:"bold",background:"white",overflow:"auto",boxShadow:"base",p:"4",height:"200px",rounded:"md",bg:"white",width:"100%",children:[(0,x.jsx)(c.D,{mb:4,children:"National Requests"}),null===f||void 0===f?void 0:f.nationalRequests.map(((e,n)=>(0,x.jsxs)(s.az,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,x.jsxs)(a.E,{p:1,fontStyle:"italic",width:"100%",fontSize:"x-small",children:[" ",n+1,".",e.nationalCoach.name," Adm:",e.nationalCoach.admission]}),(0,x.jsx)(d.$,{borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},fontSize:"x-small",onClick:()=>H(e._id,!0),children:"Approve\u2714\ufe0f"}),(0,x.jsx)(d.$,{borderRadius:20,fontSize:"x-small",color:"white",_hover:{color:"black"},background:"#A020F0",m:1,onClick:()=>H(e._id,!1),children:"Decline"})]},e._id)))]})]})]})}},4377:(e,n,t)=>{t.d(n,{D:()=>c});var o=t(3226),i=t(3761),r=t(6254),s=t(4550),a=t(9254),l=t(579),c=(0,o.R)((function(e,n){const t=(0,i.Vl)("Heading",e),{className:o,...c}=(0,r.MN)(e);return(0,l.jsx)(s.B.h2,{ref:n,className:(0,a.cx)("chakra-heading",e.className),...c,__css:t})}));c.displayName="Heading"},786:(e,n,t)=>{t.d(n,{E:()=>f});var o=t(5043);var i=t(9254),r=t(4550),s=t(6254),a=t(3290),l=t(3226),c=t(3761),d=t(2193),u=t(579),h=(0,r.B)("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),p=(0,s.Vg)("skeleton-start-color"),m=(0,s.Vg)("skeleton-end-color"),x=(0,a.i7)({from:{opacity:0},to:{opacity:1}}),g=(0,a.i7)({from:{borderColor:p.reference,background:p.reference},to:{borderColor:m.reference,background:m.reference}}),f=(0,l.R)(((e,n)=>{const t={...e,fadeDuration:"number"===typeof e.fadeDuration?e.fadeDuration:.4,speed:"number"===typeof e.speed?e.speed:.8},a=(0,c.Vl)("Skeleton",t),l=function(){const e=(0,o.useRef)(!0);return(0,o.useEffect)((()=>{e.current=!1}),[]),e.current}(),{startColor:f="",endColor:j="",isLoaded:b,fadeDuration:v,speed:y,className:w,fitContent:C,...k}=(0,s.MN)(t),[S,z]=(0,d.rd)("colors",[f,j]),E=function(e){const n=(0,o.useRef)();return(0,o.useEffect)((()=>{n.current=e}),[e]),n.current}(b),A=(0,i.cx)("chakra-skeleton",w),_={...S&&{[p.variable]:S},...z&&{[m.variable]:z}};if(b){const e=l||E?"none":"".concat(x," ").concat(v,"s");return(0,u.jsx)(r.B.div,{ref:n,className:A,__css:{animation:e},...k})}return(0,u.jsx)(h,{ref:n,className:A,...k,__css:{width:C?"fit-content":void 0,...a,..._,_dark:{...a._dark,..._},animation:"".concat(y,"s linear infinite alternate ").concat(g)}})}));f.displayName="Skeleton"}}]);
//# sourceMappingURL=418.03504bb6.chunk.js.map