"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[775],{200:(e,n,t)=>{t.d(n,{A:()=>i});const i=e=>{const n=new Date(e),t=new Date-n,i=Math.floor(t/1e3),o=Math.floor(i/60),r=Math.floor(o/60),a=Math.floor(r/24);if(i<60)return"Just now";if(o<60)return"".concat(o," minute").concat(1===o?"":"s"," ago");if(r<24)return"".concat(r," hour").concat(1===r?"":"s"," ago");if(1===a)return"Yesterday";if(a<7)return"".concat(a," day").concat(1===a?"":"s"," ago");{const e={hour:"numeric",minute:"numeric",month:"long",day:"numeric",year:"numeric"};return n.toLocaleDateString("en-US",e)}}},8024:(e,n,t)=>{t.d(n,{A:()=>R});var i=t(8028),o=t(1221),r=t(5522),a=t(3952),s=t(7426),l=t(8360),c=t(9627),d=t(1377),u=t(1273),h=t(532),p=t(7918),x=t(1847),g=t(5156),m=t(8842),f=t(927),v=t(5851),j=t(4929),b=t(1300),y=t(2257),C=t(1823),k=t(3216),w=t(6818),S=t(5532),A=t(4007),_=t(3984),z=t(3224),I=t(6642),N=t(5043),E=t(6213),D=t(579);const q=()=>{const{isOpen:e,onOpen:n,onClose:t}=(0,o.j)(),[s,l]=(0,N.useState)([]),[c,u]=(0,N.useState)(!1),{user:h}=(0,w.a)(),p=(0,k.Zp)(),x=(0,N.useCallback)((async()=>{if(h)try{const e={headers:{Authorization:"Bearer ".concat(h.token)}},{data:n}=await E.A.get("/api/clubs/github/something/".concat(h._id),e);l(n)}catch(e){console.error("Error fetching club requests:",e)}}),[h]);(0,N.useEffect)((()=>{h&&x()}),[h,x]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.$,{backgroundColor:"white",_hover:{backgroundColor:"transparent"},onClick:n,children:[(0,D.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1709643622/icons8-group-48_asymxw.png",height:5}),s&&s.length>0&&(0,D.jsx)(a.E,{position:"absolute",bottom:"70%",right:"70%",transform:"translate(50%, 0)",bg:"red.500",borderRadius:"50%",width:"2px",height:"2px",p:1.5}),(0,D.jsx)(a.E,{})]}),(0,D.jsxs)(S.aF,{isOpen:e,onClose:t,children:[(0,D.jsx)(f.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,D.jsxs)(A.$,{children:[(0,D.jsx)(j.r,{textAlign:"center",children:"Clubs Requests"}),(0,D.jsx)(_.s,{}),(0,D.jsx)(b.c,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",maxH:"300px",children:s&&s.length>0?s.map(((e,n)=>(0,D.jsxs)(r.az,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,D.jsxs)(i.$,{justifyContent:"space-between",onClick:()=>p("/showclub/".concat(e._id)),children:[n+1,". Club Name: ",e.name]},e._id),(0,D.jsx)(i.$,{background:"#f05e56",onClick:()=>(async e=>{if(h&&e){u(!0);try{const n={headers:{Authorization:"Bearer ".concat(h.token)}},{data:t}=await E.A.get("/api/clubs/decline/request/".concat(e,"/").concat(h._id),n);l(t),u(!1)}catch(n){u(!1),console.error("Error fetching club requests/decline:",n)}}})(e._id),children:c?(0,D.jsx)(z.y,{size:"small"}):"Decline"})]},n))):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(a.E,{children:"All club requests have been replied to."})})}),(0,D.jsx)(I.j,{fontSize:"small",textDecor:"underline",children:"These requests were made by club coaches."})]})]})]})};const R=function(){const{user:e,notification:n,setNotification:t}=(0,w.a)(),{isOpen:S,onOpen:A,onClose:_}=(0,o.j)(),z=(0,k.Zp)(),I=(0,s.A)({base:"none",md:"flex"}),N=(0,s.A)({base:"hidden",md:"visible"});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(r.az,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:3,paddingBottom:2,boxShadow:"2xl",zIndex:10,top:0,position:"fixed",children:[(0,D.jsx)(a.E,{textAlign:"center",fontSize:{base:"small",md:"medium"},fontWeight:"bold",userSelect:"none",p:0,m:0,pl:3,children:"Worldsamma"}),(0,D.jsxs)(r.az,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,D.jsx)(i.$,{backgroundColor:"transparent",display:I,visibility:N,_hover:{backgroundColor:"transparent",color:"green.400"},onClick:()=>{z("/dashboard")},children:"My Programs"}),(0,D.jsx)(i.$,{variant:"ghost",onClick:A,_hover:{backgroundColor:"transparent",color:"green.400"},children:(0,D.jsx)(a.E,{display:{base:"none",md:"flex"},px:4,userSelect:"none",children:"Discover"})}),(0,D.jsx)(q,{})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)(h.W,{children:[(0,D.jsxs)(p.I,{p:1,position:"relative",children:[(0,D.jsx)(y.X,{fontSize:"2xl",p:0,m:0}),n.length>0&&(0,D.jsx)(l.E,{variant:"subtle",position:"absolute",top:"-3px",right:"-3px",backgroundColor:"red",zIndex:1,borderRadius:"50%",color:"white",children:n.length})]}),(0,D.jsxs)(x.c,{pl:2,children:[!n.length&&"No New Messages",n.map((e=>(0,D.jsx)(g.D,{onClick:()=>{t(n.filter((n=>n!==e)))},children:"New Message from ".concat(e.sender?e.sender.name:"Coach"," ADM: ").concat(e.sender?e.sender.admission:" ")},e._id)))]})]}),(0,D.jsx)(h.W,{children:(0,D.jsx)(p.I,{as:i.$,bg:"white",_hover:{backgroundColor:"transparent"},onClick:A,children:"flex"===I?(0,D.jsx)(C.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}):(0,D.jsx)(c.K,{backgroundColor:"transparent",icon:(0,D.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1706276791/icons8-menu-50_afv1fe.png",height:5})})})})]})]}),(0,D.jsxs)(m._,{placement:"left",onClose:_,isOpen:S,children:[(0,D.jsx)(f.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,D.jsxs)(v.z,{children:[(0,D.jsxs)(j.r,{borderBottomWidth:"1px",display:"flex",justifyContent:"space-between",children:["Dashboard",(0,D.jsx)(u.J,{onClick:_})]}),(0,D.jsxs)(b.c,{display:"flex",flexDir:"column",justifyContent:"space-between",width:"100%",children:[(0,D.jsxs)(r.az,{padding:3,display:"flex",justifyContent:"space-around",flexDir:"column",children:[(0,D.jsxs)(i.$,{display:"flex",justifyContent:"left",alignItems:"center",background:"white",m:1,_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>z("/profile"),children:[(0,D.jsx)(C.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}),(0,D.jsx)(a.E,{p:2,m:1,children:"Profile"})]}),(0,D.jsx)(i.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{z("/dashboard"),_()},children:"My Programs"}),(0,D.jsx)(i.$,{justifyContent:"start",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{z("/clubs"),_()},children:"Clubs"}),(0,D.jsx)(i.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},isDisabled:!(null!==e&&void 0!==e&&e.provinces),onClick:()=>{z("/province"),_()},children:"Provincial level"}),(0,D.jsx)(i.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{z("/national"),_()},children:"National level"}),(0,D.jsx)(i.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},children:"International Championship"})]}),(0,D.jsx)(i.$,{onClick:()=>{localStorage.removeItem("userInfo"),t([]),z("/")},children:"Log out"})]})]})]})]})}},3628:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var i=t(5043),o=t(3216),r=t(3748),a=t(5522),s=t(3952),l=t(3224),c=t(8700),d=t(8028),u=t(6818),h=t(8024),p=t(200),x=t(9261),g=t(3461),m=t(4776),f=t(7921),v=t(834),j=t(6213),b=t(7118),y=t(579);const C=e=>{let{states:n}=e;const[t,r]=(0,i.useState)([]),{user:l}=(0,u.a)(),[c,h]=(0,i.useState)(),[p,x]=(0,i.useState)(""),[C,k]=(0,i.useState)(""),[w,S]=(0,i.useState)(""),A=(0,o.Zp)();console.log(n);const _=(0,i.useCallback)((async()=>{if(!l)return void A("/dashboard");const e={headers:{Authorization:"Bearer ".concat(l.token)}};try{const{data:n}=await j.A.get("/api/national/my/province",e);h(n)}catch(n){console.log(n)}try{const{data:n}=await j.A.get("/api/national/get/coaches",e);r(n)}catch(n){console.log(n)}}),[l,A,r,h]);return(0,i.useEffect)((()=>{l&&_()}),[_,l]),(0,y.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),p&&w&&C&&l)try{const e={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(l.token)}},n={chairperson:p,secretary:w,viceChair:C},{data:t}=await j.A.post("/api/province/register",n,e);console.log(t),setProvince(t)}catch(n){console.log(n)}},children:(0,y.jsxs)(v.T,{spacing:4,align:"stretch",width:"100%",boxShadow:"dark-lg",p:"6",rounded:"md",bg:"white",children:[" ",(0,y.jsxs)(s.E,{fontSize:"sm",fontWeight:500,bg:(0,b.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",children:["Status (*",c&&c.registered?"Registered \u2714\ufe0f":"Not registered",")"]}),(0,y.jsxs)(a.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",height:"200px",children:[(0,y.jsxs)(s.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",color:"cornflowerblue",children:["Send Requests to Provincial Samma Associations around"," ",null===l||void 0===l?void 0:l.country]}),(0,y.jsxs)(a.az,{display:"flex",height:"200px",overflowY:"auto",width:"100%",boxShadow:"base",p:"6",rounded:"md",bg:"white",children:[0===t.length&&(0,y.jsx)(s.E,{textAlign:"center",children:"No Associations in this region yet."}),t.length>0&&t.map(((e,n)=>(0,y.jsxs)(s.E,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",fontWeight:"bold",p:1,children:[e.coach.name," ",e.coach.admission,(0,y.jsx)(d.$,{onClick:()=>(async e=>{if(console.log(e),e&&l)try{const n={headers:{Authorization:"Bearer ".concat(l.token)}},t={country:l.country,province:l.provinces},{data:i}=await j.A.get("/api/national/".concat(e),t,n);console.log(i),setProvince(i)}catch(n){console.log(n)}})(null===e||void 0===e?void 0:e.coach._id),borderRadius:20,background:"#A020F0",color:"white",_hover:{color:"black"},isDisabled:null===c||void 0===c?void 0:c.requests.includes(e.coach._id),children:null!==c&&void 0!==c&&c.requests.includes(e.coach._id)?"Request Sent":"Send Request"})]},e._id)))]}),(0,y.jsxs)(g.MJ,{id:"approvals",isRequired:!0,children:[(0,y.jsx)(m.l,{children:"Required Approvals"}),null===c||void 0===c?void 0:c.approvals.length,"/ ",Math.round(n/3)]})]}),(0,y.jsxs)(g.MJ,{id:"chairman",isRequired:!0,children:[(0,y.jsx)(m.l,{children:"Chairperson"}),(0,y.jsx)(f.p,{type:"text",name:"chairman",value:p,onChange:e=>x(e.target.chairperson),placeholder:"Input valid adm of the party",isInvalid:!(null!==c&&void 0!==c&&c.approvals.some((e=>e.admission===p)))})]}),(0,y.jsxs)(g.MJ,{id:"secretary",isRequired:!0,children:[(0,y.jsx)(m.l,{children:"Secretary"}),(0,y.jsx)(f.p,{type:"text",name:"secretary",value:w,placeholder:"Input valid adm of the party",isInvalid:!(null!==c&&void 0!==c&&c.approvals.some((e=>e.admission===w))),onChange:e=>S(e.target.secretary)})]}),(0,y.jsxs)(g.MJ,{id:"vice-chairman",isRequired:!0,children:[(0,y.jsx)(m.l,{children:"Vice Chairperson"}),(0,y.jsx)(f.p,{type:"text",name:"viceChairman",value:C,placeholder:"Input valid adm of the party",isInvalid:!(null!==c&&void 0!==c&&c.approvals.some((e=>e.admission===C))),onChange:e=>k(e.target.viceChair)})]}),(0,y.jsxs)(g.MJ,{id:"provincial-coach",children:[(0,y.jsx)(m.l,{children:"National Coach"}),(0,y.jsx)(f.p,{type:"text",name:"provincialCoach",value:null===l||void 0===l?void 0:l.admission,isDisabled:!0})]}),(0,y.jsx)(d.$,{type:"submit",colorScheme:"blue",isDisabled:(null===c||void 0===c?void 0:c.approvals.length)<Math.round(n/3),children:"Submit"})]})})},k=()=>{var e,n,t;const{user:g,national:m}=(0,u.a)(),[f,v]=(0,i.useState)([]),b=(0,x.x)(null===g||void 0===g?void 0:g.country),[k,w]=(0,i.useState)(void 0),[S,A]=(0,i.useState)(!1),[_,z]=(0,i.useState)(!1),I=(0,o.Zp)(),N=(0,r.d)(),E=(0,i.useCallback)((async()=>{z(!0);try{const e={headers:{Authorization:"Bearer ".concat(g.token)}},{data:n}=await j.A.get("/api/donate/national",e);w(n),z(!1)}catch(e){z(!1),N({title:"An Error Occurred!",description:"Please try again later",status:"warning",isClosable:!0,position:"bottom"})}}),[N,g,w,z]);(0,i.useEffect)((()=>{g||I("/dashboard");(async()=>{const e=(0,x.e)(null===g||void 0===g?void 0:g.country);v(e)})(),E()}),[g]);return(0,y.jsxs)(a.az,{display:"flex",flexDir:"column",backgroundColor:"white",overflowY:"auto",width:"100%",children:[(0,y.jsx)(h.A,{}),(0,y.jsxs)(a.az,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",mt:20,children:[(0,y.jsxs)(s.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",p:3,children:[null===g||void 0===g?void 0:g.country," Samma Association ",b]}),(0,y.jsx)(s.E,{textAlign:"center",children:_?(0,y.jsx)(l.y,{size:"sm"}):(0,y.jsxs)(s.E,{children:["Account: $",k&&k.length>0?k[0].fund:"0"]})}),(0,y.jsx)(s.E,{children:" States"}),(0,y.jsxs)(a.az,{display:"flex",flexDirection:"column",height:"200px",width:{base:"97%",md:"70%"},overflowY:"scroll",m:1,boxShadow:"2xl",p:"6",rounded:"md",bg:"white",children:[" ",f&&f.map((e=>(0,y.jsx)(c.N,{href:"#",textDecoration:"underline",m:1,children:e.name},e._id)))]}),(0,y.jsxs)(a.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",boxShadow:"dark-lg",m:2,p:4,rounded:"md",bg:"white",fontStyle:"italic",children:[" ","Officials: ",!m&&"Viable position",null!==m?(0,y.jsxs)(a.az,{display:"flex",flexDir:"column",justifyContent:"center",alignItems:"center",boxShadow:"dark-lg",p:"6",rounded:"md",bg:"white",fontStyle:"italic",children:[(0,y.jsxs)(s.E,{children:["Coach: ",null===m||void 0===m||null===(e=m.nationalCoach)||void 0===e?void 0:e.name," ",null===m||void 0===m||null===(n=m.nationalCoach)||void 0===n?void 0:n.otherName," ",null===m||void 0===m||null===(t=m.nationalCoach)||void 0===t?void 0:t.belt]}),(0,y.jsxs)(s.E,{children:["Chairperson: ",null===m||void 0===m?void 0:m.chairman," "]}),(0,y.jsxs)(s.E,{children:["Secretary: ",null===m||void 0===m?void 0:m.secretary," "]}),(0,y.jsxs)(s.E,{children:["viceChairperson: ",null===m||void 0===m?void 0:m.viceChairman," "]}),(0,y.jsxs)(s.E,{children:["Interim commencement: ",(0,p.A)(null===m||void 0===m?void 0:m.updatedAt)," "]})]}):(0,y.jsxs)(y.Fragment,{children:[" ",!S&&(0,y.jsx)(d.$,{bg:"purple",color:"white",_hover:{color:"black"},borderRadius:20,onClick:()=>{"Black"!==g.belt?N({title:"Your highest rank is ".concat(g.belt),description:"Head of all National Associations must have attained Black.",status:"info",isClosable:!0,duration:5e3}):A(!0)},children:"Claim Interim leadership"}),S&&(0,y.jsx)(C,{states:f.length})]})]})]})]})}},9360:(e,n,t)=>{t.d(n,{A:()=>a});var i=t(5043);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},o.apply(this,arguments)}var r=["cdnSuffix","cdnUrl","countryCode","style","svg"];const a=function(e){var n=e.cdnSuffix,t=void 0===n?"svg":n,a=e.cdnUrl,s=void 0===a?"https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/":a,l=e.countryCode,c=e.style,d=e.svg,u=void 0!==d&&d,h=function(e,n){if(null==e)return{};var t,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if("string"!==typeof l)return null;if(u){var p=""+s+l.toLowerCase()+"."+t;return(0,i.createElement)("img",Object.assign({},h,{src:p,style:o({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},c)}))}var x=l.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));return(0,i.createElement)("span",Object.assign({role:"img"},h,{style:o({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},c)}),x)}},4776:(e,n,t)=>{t.d(n,{l:()=>d});var i=t(3461),o=t(3226),r=t(3761),a=t(6254),s=t(4550),l=t(9254),c=t(579),d=(0,o.R)((function(e,n){var t;const o=(0,r.Vl)("FormLabel",e),d=(0,a.MN)(e),{className:h,children:p,requiredIndicator:x=(0,c.jsx)(u,{}),optionalIndicator:g=null,...m}=d,f=(0,i.Uc)(),v=null!=(t=null==f?void 0:f.getLabelProps(m,n))?t:{ref:n,...m};return(0,c.jsxs)(s.B.label,{...v,className:(0,l.cx)("chakra-form__label",d.className),__css:{display:"block",textAlign:"start",...o},children:[p,(null==f?void 0:f.isRequired)?x:g]})}));d.displayName="FormLabel";var u=(0,o.R)((function(e,n){const t=(0,i.Uc)(),o=(0,i.TP)();if(!(null==t?void 0:t.isRequired))return null;const r=(0,l.cx)("chakra-form__required-indicator",e.className);return(0,c.jsx)(s.B.span,{...null==t?void 0:t.getRequiredIndicatorProps(e,n),__css:o.requiredIndicator,className:r})}));u.displayName="RequiredIndicator"},7921:(e,n,t)=>{t.d(n,{p:()=>d});var i=t(4617),o=t(3226),r=t(3761),a=t(6254),s=t(4550),l=t(9254),c=t(579),d=(0,o.R)((function(e,n){const{htmlSize:t,...o}=e,d=(0,r.o5)("Input",o),u=(0,a.MN)(o),h=(0,i.t)(u),p=(0,l.cx)("chakra-input",e.className);return(0,c.jsx)(s.B.input,{size:t,...h,__css:d.field,ref:n,className:p})}));d.displayName="Input",d.id="Input"},8700:(e,n,t)=>{t.d(n,{N:()=>c});var i=t(3226),o=t(3761),r=t(6254),a=t(4550),s=t(9254),l=t(579),c=(0,i.R)((function(e,n){const t=(0,o.Vl)("Link",e),{className:i,isExternal:c,...d}=(0,r.MN)(e);return(0,l.jsx)(a.B.a,{target:c?"_blank":void 0,rel:c?"noopener":void 0,ref:n,className:(0,s.cx)("chakra-link",i),...d,__css:t})}));c.displayName="Link"},834:(e,n,t)=>{t.d(n,{T:()=>a});var i=t(1821),o=t(3226),r=t(579),a=(0,o.R)(((e,n)=>(0,r.jsx)(i.B,{align:"center",...e,direction:"column",ref:n})));a.displayName="VStack"}}]);
//# sourceMappingURL=775.7f850209.chunk.js.map