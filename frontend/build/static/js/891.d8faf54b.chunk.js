"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[891],{8024:(e,t,n)=>{n.d(t,{A:()=>W});var o=n(8028),r=n(1221),s=n(5522),i=n(3952),a=n(7426),l=n(8360),c=n(9627),d=n(1377),u=n(1273),h=n(532),p=n(7918),g=n(1847),x=n(5156),f=n(8842),b=n(927),j=n(5851),m=n(4929),C=n(1300),y=n(2257),k=n(1823),v=n(3216),w=n(6818),_=n(5532),S=n(4007),z=n(3984),A=n(3224),E=n(6642),$=n(5043),I=n(6213),D=n(579);const P=()=>{const{isOpen:e,onOpen:t,onClose:n}=(0,r.j)(),[a,l]=(0,$.useState)([]),[c,u]=(0,$.useState)(!1),{user:h}=(0,w.a)(),p=(0,v.Zp)(),g=(0,$.useCallback)((async()=>{if(h)try{const e={headers:{Authorization:"Bearer ".concat(h.token)}},{data:t}=await I.A.get("/api/clubs/github/something/".concat(h._id),e);l(t)}catch(e){console.error("Error fetching club requests:",e)}}),[h]);(0,$.useEffect)((()=>{h&&g()}),[h,g]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(o.$,{backgroundColor:"white",_hover:{backgroundColor:"transparent"},onClick:t,children:[(0,D.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1709643622/icons8-group-48_asymxw.png",height:5}),a&&a.length>0&&(0,D.jsx)(i.E,{position:"absolute",bottom:"70%",right:"70%",transform:"translate(50%, 0)",bg:"red.500",borderRadius:"50%",width:"2px",height:"2px",p:1.5}),(0,D.jsx)(i.E,{})]}),(0,D.jsxs)(_.aF,{isOpen:e,onClose:n,children:[(0,D.jsx)(b.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,D.jsxs)(S.$,{children:[(0,D.jsx)(m.r,{textAlign:"center",children:"Clubs Requests"}),(0,D.jsx)(z.s,{}),(0,D.jsx)(C.c,{display:"flex",justifyContent:"center",alignItems:"center",flexDir:"column",maxH:"300px",children:a&&a.length>0?a.map(((e,t)=>(0,D.jsxs)(s.az,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,D.jsxs)(o.$,{justifyContent:"space-between",onClick:()=>p("/showclub/".concat(e._id)),children:[t+1,". Club Name: ",e.name]},e._id),(0,D.jsx)(o.$,{background:"#f05e56",onClick:()=>(async e=>{if(h&&e){u(!0);try{const t={headers:{Authorization:"Bearer ".concat(h.token)}},{data:n}=await I.A.get("/api/clubs/decline/request/".concat(e,"/").concat(h._id),t);l(n),u(!1)}catch(t){u(!1),console.error("Error fetching club requests/decline:",t)}}})(e._id),children:c?(0,D.jsx)(A.y,{size:"small"}):"Decline"})]},t))):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(i.E,{children:"All club requests have been replied to."})})}),(0,D.jsx)(E.j,{fontSize:"small",textDecor:"underline",children:"These requests were made by club coaches."})]})]})]})};const W=function(){const{user:e,notification:t,setNotification:n}=(0,w.a)(),{isOpen:_,onOpen:S,onClose:z}=(0,r.j)(),A=(0,v.Zp)(),E=(0,a.A)({base:"none",md:"flex"}),$=(0,a.A)({base:"hidden",md:"visible"});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(s.az,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:3,paddingBottom:2,boxShadow:"2xl",zIndex:10,top:0,position:"fixed",children:[(0,D.jsx)(i.E,{textAlign:"center",fontSize:{base:"small",md:"medium"},fontWeight:"bold",userSelect:"none",p:0,m:0,pl:3,children:"Worldsamma"}),(0,D.jsxs)(s.az,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,D.jsx)(o.$,{backgroundColor:"transparent",display:E,visibility:$,_hover:{backgroundColor:"transparent",color:"green.400"},onClick:()=>{A("/dashboard")},children:"My Programs"}),(0,D.jsx)(o.$,{variant:"ghost",onClick:S,_hover:{backgroundColor:"transparent",color:"green.400"},children:(0,D.jsx)(i.E,{display:{base:"none",md:"flex"},px:4,userSelect:"none",children:"Discover"})}),(0,D.jsx)(P,{})]}),(0,D.jsxs)("div",{children:[(0,D.jsxs)(h.W,{children:[(0,D.jsxs)(p.I,{p:1,position:"relative",children:[(0,D.jsx)(y.X,{fontSize:"2xl",p:0,m:0}),t.length>0&&(0,D.jsx)(l.E,{variant:"subtle",position:"absolute",top:"-3px",right:"-3px",backgroundColor:"red",zIndex:1,borderRadius:"50%",color:"white",children:t.length})]}),(0,D.jsxs)(g.c,{pl:2,children:[!t.length&&"No New Messages",t.map((e=>(0,D.jsx)(x.D,{onClick:()=>{n(t.filter((t=>t!==e)))},children:"New Message from ".concat(e.sender?e.sender.name:"Coach"," ADM: ").concat(e.sender?e.sender.admission:" ")},e._id)))]})]}),(0,D.jsx)(h.W,{children:(0,D.jsx)(p.I,{as:o.$,bg:"white",_hover:{backgroundColor:"transparent"},onClick:S,children:"flex"===E?(0,D.jsx)(k.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}):(0,D.jsx)(c.K,{backgroundColor:"transparent",icon:(0,D.jsx)(d._,{src:"https://res.cloudinary.com/dvc7i8g1a/image/upload/v1706276791/icons8-menu-50_afv1fe.png",height:5})})})})]})]}),(0,D.jsxs)(f._,{placement:"left",onClose:z,isOpen:_,children:[(0,D.jsx)(b.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),(0,D.jsxs)(j.z,{children:[(0,D.jsxs)(m.r,{borderBottomWidth:"1px",display:"flex",justifyContent:"space-between",children:["Dashboard",(0,D.jsx)(u.J,{onClick:z})]}),(0,D.jsxs)(C.c,{display:"flex",flexDir:"column",justifyContent:"space-between",width:"100%",children:[(0,D.jsxs)(s.az,{padding:3,display:"flex",justifyContent:"space-around",flexDir:"column",children:[(0,D.jsxs)(o.$,{display:"flex",justifyContent:"left",alignItems:"center",background:"white",m:1,_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>A("/profile"),children:[(0,D.jsx)(k.e,{size:"sm",cursor:"pointer",name:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.pic}),(0,D.jsx)(i.E,{p:2,m:1,children:"Profile"})]}),(0,D.jsx)(o.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{A("/dashboard"),z()},children:"My Programs"}),(0,D.jsx)(o.$,{justifyContent:"start",background:"white",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{A("/clubs"),z()},children:"Clubs"}),(0,D.jsx)(o.$,{justifyContent:"left",background:"white",_hover:{backgroundColor:"transparent",color:"green"},isDisabled:!(null!==e&&void 0!==e&&e.provinces),onClick:()=>{A("/province"),z()},children:"Provincial level"}),(0,D.jsx)(o.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},onClick:()=>{A("/national"),z()},children:"National level"}),(0,D.jsx)(o.$,{background:"white",justifyContent:"left",_hover:{backgroundColor:"transparent",color:"green"},children:"International Championship"})]}),(0,D.jsx)(o.$,{onClick:()=>{localStorage.removeItem("userInfo"),n([]),A("/")},children:"Log out"})]})]})]})]})}},7891:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var o=n(5043),r=n(3748),s=n(834),i=n(3952),a=n(7118),l=n(5522),c=n(3461),d=n(4776),u=n(7921),h=n(9699),p=n(8028),g=n(8024),x=n(6213),f=n(3216),b=n(579);const j=e=>{let{user:t}=e;const[n,j]=(0,o.useState)(null),[m,C]=(0,o.useState)(null),[y,k]=(0,o.useState)(!1),[v,w]=(0,o.useState)(!1),[_,S]=(0,o.useState)(""),[z,A]=(0,o.useState)(""),E=(0,r.d)(),{title:$}=(0,f.g)(),I=(0,f.Zp)(),D=(0,o.useCallback)((async()=>{if(t)try{const e={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t.token)}},{data:n}=await x.A.post("/api/submit/".concat(t._id),{savePhoto:z,saveVideo:_},e);I("/dashboard"),E({title:"Submission successful!",description:"Wait for your results under 24hrs",status:"success",duration:5e3,isClosable:!0,position:"bottom"})}catch(e){console.log(e),E({title:"Error occurred trying to send your work!",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}else I("/dashboard")}),[E,I,t,z,z]);(0,o.useEffect)((()=>{z&&_&&D()}),[z,_]);return(0,b.jsxs)(s.T,{align:"center",justify:"center",width:"100%",background:"white",p:2,children:[(0,b.jsx)(g.A,{}),(0,b.jsx)(i.E,{fontSize:"sm",fontWeight:500,bg:(0,a.dU)("green.50","green.900"),p:2,px:3,color:"green.500",rounded:"full",margin:1,width:{base:"90%",md:"60%"},children:$}),(0,b.jsx)(i.E,{textAlign:"center",fontSize:"large",fontWeight:"bold",children:"Submit your work for grading(*Passport picture as proof of identity)"}),(0,b.jsxs)(l.az,{width:{base:"100%",md:"50%"},children:[" ",(0,b.jsxs)(c.MJ,{isInvalid:!n,children:[(0,b.jsx)(d.l,{children:"Video"}),(0,b.jsx)(u.p,{type:"file",accept:"video/*",onChange:e=>{j(e.target.files[0])}}),y&&(0,b.jsx)("p",{children:"Uploading video..."}),(0,b.jsx)(h.Wt,{children:"Please select a video file."})]}),(0,b.jsxs)(c.MJ,{isInvalid:!m,children:[(0,b.jsx)(d.l,{children:"Passport Photo"}),(0,b.jsx)(u.p,{type:"file",accept:"image/*",onChange:e=>{C(e.target.files[0])}}),v&&(0,b.jsx)("p",{children:"Uploading passport photo..."}),(0,b.jsx)(h.Wt,{children:"Please select a passport photo."})]}),(0,b.jsx)(p.$,{colorScheme:"teal",onClick:()=>{if(n)if(m){if(n){k(!0);let e=new FormData;e.append("file",n),e.append("upload_preset","worldsamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/video/upload",{method:"post",body:e}).then((e=>e.json())).then((e=>{S(e.url),k(!1)})).catch((e=>{k(!1),E({title:"Error Occurred uploading your video.",description:"Please try again later.",duration:5e3,status:"error"})}))}if(m){w(!0);let e=new FormData;e.append("file",m),e.append("upload_preset","worldsamma"),fetch("https://api.cloudinary.com/v1_1/dsdlgmgwi/image/upload",{method:"post",body:e}).then((e=>e.json())).then((e=>{A(e.url),w(!1)})).catch((e=>{w(!1),E({title:"Error Occurred uploading your passport photo.",description:"Please try again later.",duration:5e3,status:"error"})}))}}else E({title:"Your passport photo please.",description:"No file selected.",status:"info",duration:5e3});else E({title:"Your recorded video please.",description:"No file selected.",status:"info",duration:5e3})},children:"Submit"})]})]})}}}]);
//# sourceMappingURL=891.d8faf54b.chunk.js.map